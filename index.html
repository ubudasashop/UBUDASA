<meta name='viewport' content='width=device-width, initial-scale=1'/><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UBUDASA Shop - Quality Products Delivered to Your Doorstep</title>
    <meta name="description" content="UBUDASA Shop - Your trusted online store for quality products with cash on delivery. Fast delivery across Rwanda.">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Open+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <div class="logo-container" id="logoContainer" onclick="handleLogoClick()">
            <div class="logo-icon">üõçÔ∏è</div>
            <h1>UBUDASA SHOP</h1>
        </div>
        <div class="header-actions">
            <a class="whatsapp-link" href="https://wa.me/250785485314" target="_blank" aria-label="Contact us on WhatsApp">
                <i class="fab fa-whatsapp"></i>
            </a>
        </div>
    </header>

    <nav>
        <button class="active" onclick="switchTab(event, 'home')">
            <i class="fas fa-home"></i> Home
        </button>
        <button onclick="switchTab(event, 'products')">
            <i class="fas fa-shopping-bag"></i> Products
        </button>
        <button onclick="switchTab(event, 'about')">
            <i class="fas fa-info-circle"></i> About
        </button>
        <button onclick="switchTab(event, 'contact')">
            <i class="fas fa-phone"></i> Contact
        </button>
    </nav>

    <main>
        <section id="home">
            <div class="hero-icon">üéÅ</div>
            <h2>Welcome to UBUDASA Shop</h2>
            <p>Your one-stop online shop for quality products delivered right to your doorstep across Rwanda.</p>
            
            <div class="features">
                <div class="feature">
                    <i class="fas fa-truck"></i>
                    <h3>Fast Delivery</h3>
                    <p>Quick delivery across all major cities in Rwanda</p>
                </div>
                <div class="feature">
                    <i class="fas fa-money-bill-wave"></i>
                    <h3>Cash on Delivery</h3>
                    <p>Pay when you receive your order</p>
                </div>
                <div class="feature">
                    <i class="fas fa-shield-alt"></i>
                    <h3>Quality Guaranteed</h3>
                    <p>100% authentic products</p>
                </div>
            </div>
            
            <button class="cta-button" onclick="switchTab(null, 'products')">
                Shop Now <i class="fas fa-arrow-right"></i>
            </button>
        </section>

        <section id="products">
            <h2 class="section-title">Our Products</h2>
            
            <div class="search-container">
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" id="searchInput" placeholder="Search products..." onkeyup="searchProducts()">
                </div>
            </div>

            <div class="category-filter">
                <button class="category-btn active" onclick="filterByCategory('all')">
                    <i class="fas fa-th"></i> All
                </button>
                <button class="category-btn" onclick="filterByCategory('Electronics')">
                    <i class="fas fa-laptop"></i> Electronics
                </button>
                <button class="category-btn" onclick="filterByCategory('Fashion')">
                    <i class="fas fa-tshirt"></i> Fashion
                </button>
                <button class="category-btn" onclick="filterByCategory('Beauty')">
                    <i class="fas fa-spray-can"></i> Beauty
                </button>
                <button class="category-btn" onclick="filterByCategory('Sports')">
                    <i class="fas fa-dumbbell"></i> Sports
                </button>
            </div>

            <div class="products-grid" id="productsGrid"></div>
            
            <div id="noResults" class="no-results" style="display: none;">
                <i class="fas fa-search"></i>
                <p>No products found</p>
            </div>
        </section>

        <section id="about">
            <h2>About UBUDASA Shop</h2>
            <p>UBUDASA Shop is your trusted online marketplace, bringing quality products directly to customers across Rwanda. We believe in making shopping convenient, affordable, and accessible to everyone.</p>
            <p>Our mission is to provide a seamless shopping experience with:</p>
            <ul style="margin-left: 2rem; line-height: 2;">
                <li>Wide variety of quality products</li>
                <li>Competitive prices</li>
                <li>Reliable delivery service</li>
                <li>Excellent customer support</li>
                <li>Secure payment options including cash on delivery</li>
            </ul>
            <p style="margin-top: 1.5rem;">We're committed to serving our customers with integrity and ensuring satisfaction with every purchase.</p>
        </section>

        <section id="contact">
            <h2>Contact Us</h2>
            <p>Have questions? We're here to help! Reach out to us through any of the following channels:</p>
            
            <div class="contact-info">
                <div class="contact-item">
                    <i class="fab fa-whatsapp"></i>
                    <div>
                        <strong>WhatsApp:</strong><br>
                        <a href="https://wa.me/250785485314" style="color: var(--primary);">+250 785 485 314</a>
                    </div>
                </div>
                <div class="contact-item">
                    <i class="fas fa-phone"></i>
                    <div>
                        <strong>Phone:</strong><br>
                        +250 785 485 314
                    </div>
                </div>
                <div class="contact-item">
                    <i class="fas fa-envelope"></i>
                    <div>
                        <strong>Email:</strong><br>
                        info@ubudasashop.com
                    </div>
                </div>
                <div class="contact-item">
                    <i class="fas fa-map-marker-alt"></i>
                    <div>
                        <strong>Location:</strong><br>
                        Kigali, Rwanda
                    </div>
                </div>
            </div>
            
            <p style="margin-top: 1.5rem; text-align: center;">
                <strong>Business Hours:</strong><br>
                Monday - Saturday: 8:00 AM - 8:00 PM<br>
                Sunday: 9:00 AM - 6:00 PM
            </p>
        </section>
    </main>

    <div class="floating-buttons">
        <button class="cart-btn" onclick="toggleCart()" aria-label="Shopping cart">
            <i class="fas fa-shopping-cart"></i>
            <span class="cart-count" id="cartCount">0</span>
        </button>
    </div>

    <!-- Product Detail Modal -->
    <div class="product-modal" id="productModal" onclick="closeModalIfOutside(event)">
        <div class="product-modal-content" onclick="event.stopPropagation()">
            <button class="close-modal" onclick="closeProductModal()">
                <i class="fas fa-times"></i>
            </button>
            <div class="modal-body">
                <img id="modalImage" src="" alt="">
                <div class="modal-info">
                    <h2 id="modalTitle"></h2>
                    <div class="modal-category" id="modalCategory"></div>
                    <div class="modal-price" id="modalPrice"></div>
                    <div class="modal-description" id="modalDescription"></div>
                    <button class="modal-add-cart" id="modalAddCart">
                        <i class="fas fa-cart-plus"></i> Add to Cart
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Cart Overlay -->
    <div class="cart-overlay" id="cartOverlay" onclick="closeCartIfOutside(event)">
        <div class="cart-content" onclick="event.stopPropagation()">
            <div class="cart-header">
                <h2><i class="fas fa-shopping-cart"></i> Your Cart</h2>
                <button class="close-cart" onclick="toggleCart()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div id="cartItems"></div>
        </div>
    </div>

    <!-- Admin Panel (Hidden) -->
    <div class="cart-overlay" id="adminOverlay" onclick="closeAdminIfOutside(event)">
        <div class="admin-panel" onclick="event.stopPropagation()">
            <button class="close-admin" onclick="toggleAdmin()">
                <i class="fas fa-times"></i>
            </button>
            <h2><i class="fas fa-cog"></i> Admin Panel</h2>
            <div class="admin-form">
                <input type="text" id="productName" placeholder="Product Name">
                <input type="number" id="productPrice" placeholder="Price (RWF)">
                <select id="productCategory">
                    <option value="">Select Category</option>
                    <option value="Electronics">Electronics</option>
                    <option value="Fashion">Fashion</option>
                    <option value="Beauty">Beauty</option>
                    <option value="Sports">Sports</option>
                </select>
                <textarea id="productDescription" placeholder="Product Description" rows="3"></textarea>
                <input type="file" id="productImage" accept="image/*">
                <button onclick="addProduct()">
                    <i class="fas fa-plus"></i> Add Product
                </button>
            </div>
            <h3 style="margin: 1rem 0 0.5rem 0;">Products List</h3>
            <div class="admin-list" id="adminList"></div>
        </div>
    </div>

    <!-- Payment Modal -->
    <div class="payment-modal" id="paymentModal">
        <div class="payment-content">
            <button class="close-payment" onclick="closePaymentModal()">
                <i class="fas fa-times"></i>
            </button>
            <h2>Complete Your Order</h2>
            
            <div class="payment-form">
                <input type="text" id="customerName" placeholder="Your Name" required>
                <input type="tel" id="customerPhone" placeholder="Phone (+250...)" required>
                <input type="email" id="customerEmail" placeholder="Email (optional)">
                <textarea id="deliveryAddress" placeholder="Delivery Address" rows="2" required></textarea>
                
                <div class="payment-methods">
                    <h3>Select Payment Method:</h3>
                    <button class="payment-btn momo-btn" onclick="payWithMobileMoney()">
                        <i class="fas fa-mobile-alt"></i> Pay with Mobile Money
                    </button>
                    <button class="payment-btn cod-btn" onclick="payOnDelivery()">
                        <i class="fas fa-money-bill-wave"></i> Pay on Delivery
                    </button>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <p>&copy; 2024 UBUDASA Shop. All rights reserved.</p>
        <p style="margin-top: 0.5rem;">Quality products, delivered with care.</p>
    </footer>

    <script src="https://checkout.flutterwave.com/v3.js"></script>
    <script src="script.js"></script>
</body>
</html><style>:root {
    --primary: #E30613;
    --primary-dark: #C10510;
    --white: #FFFFFF;
    --black: #1C1C1C;
    --gray-100: #F8F9FA;
    --gray-200: #E9ECEF;
    --gray-300: #DEE2E6;
    --gray-600: #6C757D;
    --gray-800: #343A40;
    --success: #28A745;
    --warning: #e9b20e;
    --shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    --shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.12);
    --radius: 12px;
    --radius-sm: 8px;
    --transition: all 0.3s ease;
}

* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

html {
    scroll-behavior: smooth;
}

body {
    font-family: 'Open Sans', sans-serif;
    background: var(--white);
    color: var(--black);
    line-height: 1.6;
    overflow-x: hidden;
}

/* Header Styles */
header {
    background: var(--primary);
    color: var(--white);
    padding: 1rem 1.5rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    position: sticky;
    top: 0;
    z-index: 1000;
}

.logo-container {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    cursor: pointer;
    user-select: none;
}

.logo-icon {
    font-size: 1.5rem;
}

header h1 {
    font-family: 'Montserrat', sans-serif;
    font-size: 1.4rem;
    font-weight: 700;
    margin: 0;
}

.header-actions {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.whatsapp-link {
    color: var(--white);
    font-size: 1.4rem;
    text-decoration: none;
    transition: var(--transition);
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.whatsapp-link:hover {
    transform: scale(1.1);
}

/* Navigation */
nav {
    display: flex;
    justify-content: space-around;
    background: var(--white);
    border-bottom: 1px solid var(--gray-200);
    position: sticky;
    top: 64px;
    z-index: 999;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
}

nav button {
    background: none;
    border: none;
    padding: 1rem 0.75rem;
    font-family: 'Montserrat', sans-serif;
    font-weight: 600;
    cursor: pointer;
    color: var(--gray-600);
    transition: var(--transition);
    position: relative;
    flex: 1;
    text-align: center;
}

nav button:hover {
    color: var(--primary);
}

nav button.active {
    color: var(--primary);
}

nav button.active::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 20%;
    right: 20%;
    height: 3px;
    background: var(--primary);
    border-radius: 3px 3px 0 0;
}

/* Main Content */
main {
    padding: 1.5rem;
    min-height: calc(100vh - 200px);
}

/* Home Section */
#home {
    text-align: center;
    padding: 2.5rem 1rem;
    max-width: 800px;
    margin: 0 auto;
}

.hero-icon {
    font-size: 3rem;
    color: var(--primary);
    margin-bottom: 1rem;
}

#home h2 {
    color: var(--primary);
    font-family: 'Montserrat', sans-serif;
    margin-bottom: 1rem;
    font-size: 1.8rem;
    font-weight: 700;
}

#home p {
    font-size: 1.1rem;
    margin-bottom: 1.5rem;
    color: var(--gray-800);
}

.features {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1.5rem;
    margin: 2.5rem 0;
}

.feature {
    background: var(--gray-100);
    padding: 1.5rem;
    border-radius: var(--radius);
    box-shadow: var(--shadow);
}

.feature i {
    font-size: 1.8rem;
    color: var(--primary);
    margin-bottom: 0.75rem;
}

.feature h3 {
    font-family: 'Montserrat', sans-serif;
    margin-bottom: 0.5rem;
    font-size: 1.1rem;
}

.cta-button {
    background: var(--primary);
    color: var(--white);
    border: none;
    padding: 0.875rem 2rem;
    border-radius: var(--radius-sm);
    cursor: pointer;
    font-weight: 600;
    font-size: 1rem;
    transition: var(--transition);
    box-shadow: 0 4px 10px rgba(227, 6, 19, 0.3);
}

.cta-button:hover {
    background: var(--primary-dark);
    transform: translateY(-2px);
    box-shadow: 0 6px 14px rgba(227, 6, 19, 0.4);
}

/* Products Section */
#products, #about, #contact {
    display: none;
    margin-top: 1rem;
}

.section-title {
    font-family: 'Montserrat', sans-serif;
    font-size: 1.5rem;
    margin-bottom: 1.5rem;
    color: var(--black);
    text-align: center;
}

/* Search Container */
.search-container {
    max-width: 600px;
    margin: 0 auto 1.5rem;
}

.search-box {
    display: flex;
    align-items: center;
    background: var(--white);
    border: 2px solid var(--gray-300);
    border-radius: var(--radius);
    padding: 0.75rem 1rem;
    transition: var(--transition);
}

.search-box:focus-within {
    border-color: var(--primary);
    box-shadow: 0 0 0 3px rgba(227, 6, 19, 0.1);
}

.search-box i {
    color: var(--gray-600);
    margin-right: 0.75rem;
}

.search-box input {
    border: none;
    outline: none;
    flex: 1;
    font-size: 1rem;
    font-family: 'Open Sans', sans-serif;
}

/* Category Filter */
.category-filter {
    display: flex;
    gap: 0.75rem;
    margin-bottom: 2rem;
    overflow-x: auto;
    padding-bottom: 0.5rem;
}

.category-filter::-webkit-scrollbar {
    height: 6px;
}

.category-filter::-webkit-scrollbar-track {
    background: var(--gray-200);
    border-radius: 3px;
}

.category-filter::-webkit-scrollbar-thumb {
    background: var(--primary);
    border-radius: 3px;
}

.category-btn {
    background: var(--white);
    border: 2px solid var(--gray-300);
    padding: 0.75rem 1.25rem;
    border-radius: var(--radius);
    cursor: pointer;
    font-weight: 600;
    transition: var(--transition);
    white-space: nowrap;
    font-family: 'Montserrat', sans-serif;
}

.category-btn:hover {
    border-color: var(--primary);
    color: var(--primary);
}

.category-btn.active {
    background: var(--primary);
    border-color: var(--primary);
    color: var(--white);
}

.category-btn i {
    margin-right: 0.5rem;
}

.products-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
    gap: 1.25rem;
}

.product {
    background: var(--white);
    border-radius: var(--radius);
    overflow: hidden;
    display: flex;
    flex-direction: column;
    box-shadow: var(--shadow);
    transition: var(--transition);
    border: 1px solid var(--gray-200);
    cursor: pointer;
}

.product:hover {
    transform: translateY(-5px);
    box-shadow: var(--shadow-lg);
}

.product-img-container {
    position: relative;
    width: 100%;
    height: 0;
    padding-bottom: 100%;
    overflow: hidden;
    background: var(--gray-200);
}

.product img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: contain;
    padding: 0.5rem;
    transition: var(--transition);
}

.product:hover img {
    transform: scale(1.05);
}

.product-category {
    position: absolute;
    top: 0.5rem;
    right: 0.5rem;
    background: var(--primary);
    color: var(--white);
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
    font-size: 0.75rem;
    font-weight: 600;
    z-index: 1;
}

.product-info {
    padding: 1rem;
    flex-grow: 1;
    display: flex;
    flex-direction: column;
}

.product h3 {
    margin: 0 0 0.5rem;
    font-family: 'Montserrat', sans-serif;
    font-size: 1rem;
    font-weight: 600;
    color: var(--black);
}

.product-price {
    margin: 0 0 1rem;
    font-weight: 700;
    color: var(--primary);
    font-size: 1.1rem;
}

.product button {
    width: 100%;
    background: var(--primary);
    color: var(--white);
    border: none;
    padding: 0.75rem;
    border-radius: var(--radius-sm);
    cursor: pointer;
    font-weight: 600;
    transition: var(--transition);
    margin-top: auto;
}

.product button:hover {
    background: var(--primary-dark);
}

.no-results {
    text-align: center;
    padding: 3rem 1rem;
    color: var(--gray-600);
}

.no-results i {
    font-size: 3rem;
    margin-bottom: 1rem;
    color: var(--gray-300);
}

/* Product Detail Modal */
.product-modal {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.6);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 3000;
    padding: 1rem;
}

.product-modal-content {
    width: 100%;
    max-width: 700px;
    background: var(--white);
    border-radius: var(--radius);
    max-height: 85vh;
    overflow: auto;
    box-shadow: var(--shadow-lg);
    position: relative;
}

.close-modal {
    position: absolute;
    top: 1rem;
    right: 1rem;
    background: var(--white);
    border: none;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    cursor: pointer;
    font-size: 1.2rem;
    color: var(--gray-600);
    box-shadow: var(--shadow);
    z-index: 1;
    transition: var(--transition);
}

.close-modal:hover {
    background: var(--gray-200);
    color: var(--primary);
}

.modal-body {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1.5rem;
}

.modal-body img {
    width: 100%;
    height: 300px;
    object-fit: contain;
    padding: 1rem;
    background: var(--gray-100);
    border-radius: var(--radius) var(--radius) 0 0;
}

.modal-info {
    padding: 1.5rem;
}

.modal-info h2 {
    font-family: 'Montserrat', sans-serif;
    margin-bottom: 0.75rem;
    color: var(--black);
}

.modal-category {
    display: inline-block;
    background: var(--primary);
    color: var(--white);
    padding: 0.35rem 0.75rem;
    border-radius: 6px;
    font-size: 0.85rem;
    font-weight: 600;
    margin-bottom: 1rem;
}

.modal-price {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--primary);
    margin-bottom: 1rem;
}

.modal-description {
    color: var(--gray-800);
    line-height: 1.8;
    margin-bottom: 1.5rem;
}

.modal-add-cart {
    width: 100%;
    background: var(--primary);
    color: var(--white);
    border: none;
    padding: 1rem;
    border-radius: var(--radius-sm);
    cursor: pointer;
    font-weight: 700;
    font-size: 1rem;
    transition: var(--transition);
}

.modal-add-cart:hover {
    background: var(--primary-dark);
}

/* Floating buttons */
.floating-buttons {
    position: fixed;
    bottom: 1.5rem;
    right: 1.5rem;
    display: flex;
    flex-direction: column;
    gap: 1rem;
    z-index: 200;
}

.cart-btn {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--white);
    border: none;
    cursor: pointer;
    font-size: 1.3rem;
    box-shadow: var(--shadow-lg);
    transition: var(--transition);
    position: relative;
    background: var(--primary);
}

.cart-btn:hover {
    background: var(--primary-dark);
    transform: scale(1.05);
}

.cart-count {
    position: absolute;
    top: -5px;
    right: -5px;
    background: var(--white);
    color: var(--primary);
    border-radius: 50%;
    width: 24px;
    height: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 0.75rem;
    border: 2px solid var(--primary);
}

/* Cart overlay */
.cart-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.6);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 3000;
    padding: 1rem;
}

.cart-content {
    width: 100%;
    max-width: 500px;
    background: var(--white);
    padding: 1.5rem;
    border-radius: var(--radius);
    max-height: 85vh;
    overflow: auto;
    box-shadow: var(--shadow-lg);
}

.cart-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
    padding-bottom: 0.75rem;
    border-bottom: 1px solid var(--gray-200);
}

.cart-content h2 {
    color: var(--primary);
    margin: 0;
    font-family: 'Montserrat', sans-serif;
}

.close-cart {
    background: none;
    border: none;
    font-size: 1.5rem;
    cursor: pointer;
    color: var(--gray-600);
}

.cart-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem 0;
    border-bottom: 1px solid var(--gray-200);
}

.cart-item-info {
    flex-grow: 1;
}

.cart-item-name {
    font-weight: 600;
    margin-bottom: 0.25rem;
}

.cart-item-price {
    color: var(--primary);
    font-weight: 600;
}

.remove-item {
    background: none;
    border: none;
    color: var(--gray-600);
    cursor: pointer;
    font-size: 1.2rem;
    transition: var(--transition);
}

.remove-item:hover {
    color: var(--primary);
}

.cart-empty {
    text-align: center;
    padding: 2rem;
    color: var(--gray-600);
}

.cart-empty i {
    font-size: 3rem;
    margin-bottom: 1rem;
    color: var(--gray-300);
}

.payment-info {
    margin-top: 1.5rem;
    padding: 1.25rem;
    background: var(--gray-100);
    border-radius: var(--radius);
    font-weight: 600;
    border-left: 4px solid var(--primary);
}

.payment-total {
    font-size: 1.2rem;
    margin-bottom: 0.75rem;
}

.payment-details {
    font-size: 0.9rem;
    color: var(--gray-800);
    line-height: 1.5;
}

.checkout-btn {
    width: 100%;
    background: var(--primary);
    color: var(--white);
    border: none;
    padding: 1rem;
    border-radius: var(--radius-sm);
    cursor: pointer;
    font-weight: 700;
    font-size: 1rem;
    margin-top: 1rem;
    transition: var(--transition);
}

.checkout-btn:hover {
    background: var(--primary-dark);
}

/* Admin panel */
.admin-panel {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: var(--white);
    padding: 1.5rem;
    border-radius: var(--radius);
    box-shadow: var(--shadow-lg);
    display: none;
    width: 90%;
    max-width: 400px;
    z-index: 3001;
    max-height: 85vh;
    overflow: auto;
}

.admin-panel h2 {
    margin: 0 0 1rem 0;
    font-family: 'Montserrat', sans-serif;
    color: var(--black);
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.admin-panel h2 i {
    color: var(--primary);
}

.admin-form {
    margin-bottom: 1.5rem;
}

.admin-panel input,
.admin-panel select,
.admin-panel textarea {
    width: 100%;
    padding: 0.75rem;
    margin-bottom: 0.75rem;
    border-radius: var(--radius-sm);
    border: 1px solid var(--gray-300);
    font-family: 'Open Sans', sans-serif;
    font-size: 1rem;
}

.admin-panel textarea {
    resize: vertical;
}

.admin-panel button {
    width: 100%;
    padding: 0.75rem;
    background: var(--primary);
    color: var(--white);
    border: none;
    border-radius: var(--radius-sm);
    cursor: pointer;
    font-weight: 700;
    transition: var(--transition);
}

.admin-panel button:hover {
    background: var(--primary-dark);
}

.admin-list {
    margin-top: 1rem;
    max-height: 300px;
    overflow: auto;
    border: 1px solid var(--gray-200);
    border-radius: var(--radius-sm);
    padding: 0.5rem;
}

.admin-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.75rem;
    border-bottom: 1px solid var(--gray-200);
}

.admin-item:last-child {
    border-bottom: none;
}

.admin-item-info {
    flex-grow: 1;
}

.admin-item-name {
    font-weight: 600;
    margin-bottom: 0.25rem;
}

.admin-item-price {
    color: var(--primary);
    font-size: 0.9rem;
}

.admin-actions {
    display: flex;
    gap: 0.5rem;
}

.admin-actions button {
    width: auto;
    padding: 0.4rem 0.75rem;
    font-size: 0.8rem;
}

.btn-edit {
    background: var(--warning);
    color: var(--black);
}

.btn-edit:hover {
    background: #e0a800;
}

.btn-delete {
    background: #DC3545;
}

.btn-delete:hover {
    background: #C82333;
}

.close-admin {
    position: absolute;
    top: 1rem;
    right: 1rem;
    background: none;
    border: none;
    font-size: 1.5rem;
    cursor: pointer;
    color: var(--gray-600);
}

/* Payment Modal */
.payment-modal {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.7);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 4000;
    padding: 1rem;
}

.payment-content {
    width: 100%;
    max-width: 500px;
    background: var(--white);
    padding: 2rem;
    border-radius: var(--radius);
    box-shadow: var(--shadow-lg);
    position: relative;
}

.payment-content h2 {
    font-family: 'Montserrat', sans-serif;
    color: var(--primary);
    margin-bottom: 1.5rem;
    text-align: center;
}

.close-payment {
    position: absolute;
    top: 1rem;
    right: 1rem;
    background: none;
    border: none;
    font-size: 1.5rem;
    cursor: pointer;
    color: var(--gray-600);
}

.payment-form input,
.payment-form textarea {
    width: 100%;
    padding: 0.75rem;
    margin-bottom: 1rem;
    border: 1px solid var(--gray-300);
    border-radius: var(--radius-sm);
    font-family: 'Open Sans', sans-serif;
}

.payment-methods {
    margin-top: 1.5rem;
}

.payment-methods h3 {
    font-size: 1rem;
    margin-bottom: 1rem;
    color: var(--gray-800);
}

.payment-btn {
    width: 100%;
    padding: 1rem;
    border: none;
    border-radius: var(--radius-sm);
    cursor: pointer;
    font-weight: 700;
    font-size: 1rem;
    transition: var(--transition);
    margin-bottom: 0.75rem;
}

.momo-btn {
    background: var(--primary);
    color: var(--white);
}

.momo-btn:hover {
    background: var(--primary-dark);
}

.cod-btn {
    background: var(--success);
    color: var(--white);
}

.cod-btn:hover {
    background: #218838;
}

/* About & Contact Sections */
#about, #contact {
    max-width: 800px;
    margin: 0 auto;
}

#about h2, #contact h2 {
    font-family: 'Montserrat', sans-serif;
    margin-bottom: 1.5rem;
    color: var(--primary);
    text-align: center;
}

#about p, #contact p {
    margin-bottom: 1rem;
    line-height: 1.7;
}

.contact-info {
    background: var(--gray-100);
    padding: 1.5rem;
    border-radius: var(--radius);
    margin-top: 1.5rem;
}

.contact-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 1rem;
}

.contact-item i {
    color: var(--primary);
    font-size: 1.2rem;
    width: 24px;
}

/* Footer */
footer {
    background: var(--gray-800);
    color: var(--white);
    text-align: center;
    padding: 1.5rem;
    margin-top: 2rem;
}

/* Responsive Design */
@media (min-width: 768px) {
    header {
        padding: 1rem 2rem;
    }
    
    header h1 {
        font-size: 1.6rem;
    }
    
    nav button {
        padding: 1rem;
    }
    
    main {
        padding: 2rem;
    }
    
    #home h2 {
        font-size: 2.2rem;
    }
    
    .products-grid {
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 1.5rem;
    }

    .modal-body {
        grid-template-columns: 1fr 1fr;
    }

    .modal-body img {
        height: 100%;
        border-radius: var(--radius) 0 0 var(--radius);
    }
}

@media (min-width: 1024px) {
    .products-grid {
        grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
    }
}

/* Animation for cart add */
@keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.1); }
    100% { transform: scale(1); }
}

.pulse {
    animation: pulse 0.5s ease;
}</style><script>// Global variables
let products = [];
let cart = [];
let editingProductId = null;
let currentCategory = 'all';
let logoClickCount = 0;
let logoClickTimer = null;

// Flutterwave Configuration
const FLUTTERWAVE_PUBLIC_KEY = 'FLWPUBK_TEST-SANDBOXDEMOKEY-X'; // Replace with your actual key

// LocalStorage Keys
const STORAGE_KEY = 'ubudasa_products';
const CART_STORAGE_KEY = 'ubudasa_cart';

// Save products to localStorage
function saveProducts() {
    localStorage.setItem(STORAGE_KEY, JSON.stringify(products));
}

// Load products from localStorage
function loadProducts() {
    const stored = localStorage.getItem(STORAGE_KEY);
    if (stored) {
        products = JSON.parse(stored);
    } else {
        const sampleProducts = [
            { 
                id: 1, 
                name: 'Wireless Headphones', 
                price: 35000, 
                category: 'Electronics',
                description: 'High-quality wireless headphones with noise cancellation, comfortable design, and up to 30 hours of battery life.',
                image: 'https://via.placeholder.com/400x400?text=Wireless+Headphones' 
            },
            { 
                id: 2, 
                name: 'Smart Watch', 
                price: 55000, 
                category: 'Electronics',
                description: 'Feature-rich smartwatch with fitness tracking, heart rate monitor, GPS, and smartphone notifications.',
                image: 'https://via.placeholder.com/400x400?text=Smart+Watch' 
            },
            { 
                id: 3, 
                name: 'Laptop Backpack', 
                price: 25000, 
                category: 'Fashion',
                description: 'Durable and spacious laptop backpack with multiple compartments and comfortable shoulder straps.',
                image: 'https://via.placeholder.com/400x400?text=Laptop+Backpack' 
            },
            { 
                id: 4, 
                name: 'Phone Case', 
                price: 8000, 
                category: 'Electronics',
                description: 'Premium protective phone case with shock-absorbing design.',
                image: 'https://via.placeholder.com/400x400?text=Phone+Case' 
            },
            { 
                id: 5, 
                name: 'Bluetooth Speaker', 
                price: 45000, 
                category: 'Electronics',
                description: 'Portable Bluetooth speaker with 360-degree sound and 12-hour battery life.',
                image: 'https://via.placeholder.com/400x400?text=Bluetooth+Speaker' 
            },
            { 
                id: 6, 
                name: 'USB Cable', 
                price: 5000, 
                category: 'Electronics',
                description: 'Fast-charging USB cable with durable braided design.',
                image: 'https://via.placeholder.com/400x400?text=USB+Cable' 
            }
        ];
        products = [...sampleProducts];
        saveProducts();
    }
}

// Save cart to localStorage
function saveCart() {
    localStorage.setItem(CART_STORAGE_KEY, JSON.stringify(cart));
}

// Load cart from localStorage
function loadCart() {
    const stored = localStorage.getItem(CART_STORAGE_KEY);
    if (stored) {
        cart = JSON.parse(stored);
    }
}

// Initialize products and cart
function initProducts() {
    loadProducts();
    loadCart();
    renderProducts();
    renderAdminList();
}

// Handle logo click for admin access (4 clicks within 3 seconds)
function handleLogoClick() {
    logoClickCount++;
    
    if (logoClickTimer) {
        clearTimeout(logoClickTimer);
    }
    
    if (logoClickCount >= 4) {
        logoClickCount = 0;
        toggleAdmin();
        return;
    }
    
    logoClickTimer = setTimeout(() => {
        logoClickCount = 0;
    }, 3000);
}

// Switch between tabs
function switchTab(event, tabName) {
    document.querySelectorAll('main > section').forEach(section => {
        section.style.display = 'none';
    });
    
    document.getElementById(tabName).style.display = 'block';
    
    document.querySelectorAll('nav button').forEach(btn => {
        btn.classList.remove('active');
    });
    
    if (event) {
        event.currentTarget.classList.add('active');
    } else {
        document.querySelectorAll('nav button').forEach(btn => {
            if (btn.textContent.toLowerCase().includes(tabName)) {
                btn.classList.add('active');
            }
        });
    }
}

// Format price with commas
function formatPrice(price) {
    return price.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
}

// Filter products by category
function filterByCategory(category) {
    currentCategory = category;
    
    document.querySelectorAll('.category-btn').forEach(btn => {
        btn.classList.remove('active');
    });
    event.target.classList.add('active');
    
    renderProducts();
}

// Search products
function searchProducts() {
    const searchTerm = document.getElementById('searchInput').value.toLowerCase();
    renderProducts(searchTerm);
}

// Render products grid
function renderProducts(searchTerm = '') {
    const grid = document.getElementById('productsGrid');
    const noResults = document.getElementById('noResults');
    
    let filteredProducts = products;
    
    if (currentCategory !== 'all') {
        filteredProducts = filteredProducts.filter(p => p.category === currentCategory);
    }
    
    if (searchTerm) {
        filteredProducts = filteredProducts.filter(p => 
            p.name.toLowerCase().includes(searchTerm) || 
            p.description.toLowerCase().includes(searchTerm) ||
            p.category.toLowerCase().includes(searchTerm)
        );
    }
    
    if (filteredProducts.length === 0) {
        grid.innerHTML = '';
        noResults.style.display = 'block';
    } else {
        noResults.style.display = 'none';
        grid.innerHTML = filteredProducts.map(product => `
            <div class="product" onclick="showProductDetail(${product.id})">
                <div class="product-img-container">
                    <img src="${product.image}" alt="${product.name}" onerror="this.src='https://via.placeholder.com/400x400?text=Product'">
                    <span class="product-category">${product.category}</span>
                </div>
                <div class="product-info">
                    <h3>${product.name}</h3>
                    <div class="product-price">${formatPrice(product.price)} RWF</div>
                    <button onclick="event.stopPropagation(); addToCart(${product.id})">
                        <i class="fas fa-cart-plus"></i> Add to Cart
                    </button>
                </div>
            </div>
        `).join('');
    }
}

// Show product detail modal
function showProductDetail(productId) {
    const product = products.find(p => p.id === productId);
    if (!product) return;
    
    document.getElementById('modalImage').src = product.image;
    document.getElementById('modalTitle').textContent = product.name;
    document.getElementById('modalCategory').textContent = product.category;
    document.getElementById('modalPrice').textContent = formatPrice(product.price) + ' RWF';
    document.getElementById('modalDescription').textContent = product.description;
    
    const addCartBtn = document.getElementById('modalAddCart');
    addCartBtn.onclick = () => {
        addToCart(productId);
        closeProductModal();
    };
    
    document.getElementById('productModal').style.display = 'flex';
}

// Close product modal
function closeProductModal() {
    document.getElementById('productModal').style.display = 'none';
}

// Close modal if clicking outside
function closeModalIfOutside(event) {
    if (event.target.id === 'productModal') {
        closeProductModal();
    }
}

// Add product to cart
function addToCart(productId) {
    const product = products.find(p => p.id === productId);
    if (product) {
        const existingItem = cart.find(item => item.id === productId);
        if (existingItem) {
            existingItem.quantity++;
        } else {
            cart.push({ ...product, quantity: 1 });
        }
        saveCart();
        updateCart();
        
        const cartBtn = document.querySelector('.cart-btn');
        cartBtn.classList.add('pulse');
        setTimeout(() => cartBtn.classList.remove('pulse'), 500);
    }
}

// Remove product from cart
function removeFromCart(productId) {
    cart = cart.filter(item => item.id !== productId);
    saveCart();
    updateCart();
}

// Update cart display
function updateCart() {
    const cartCount = document.getElementById('cartCount');
    const cartItems = document.getElementById('cartItems');
    
    const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
    cartCount.textContent = totalItems;
    cartCount.style.display = totalItems > 0 ? 'flex' : 'none';
    
    if (cart.length === 0) {
        cartItems.innerHTML = `
            <div class="cart-empty">
                <i class="fas fa-shopping-cart"></i>
                <p>Your cart is empty</p>
            </div>
        `;
    } else {
        const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
        cartItems.innerHTML = `
            ${cart.map(item => `
                <div class="cart-item">
                    <div class="cart-item-info">
                        <div class="cart-item-name">${item.name} x${item.quantity}</div>
                        <div class="cart-item-price">${formatPrice(item.price * item.quantity)} RWF</div>
                    </div>
                    <button class="remove-item" onclick="removeFromCart(${item.id})">
                        <i class="fas fa-trash"></i>
                    </button>
                </div>
            `).join('')}
            <div class="payment-info">
                <div class="payment-total">Total: ${formatPrice(total)} RWF</div>
                <div class="payment-details">
                    Choose your payment method at checkout
                </div>
            </div>
            <button class="checkout-btn" onclick="openPaymentModal()">
                <i class="fas fa-credit-card"></i> Proceed to Checkout
            </button>
        `;
    }
}

// Toggle cart overlay
function toggleCart() {
    const overlay = document.getElementById('cartOverlay');
    if (overlay.style.display === 'flex') {
        overlay.style.display = 'none';
    } else {
        overlay.style.display = 'flex';
    }
}

// Close cart if clicking outside
function closeCartIfOutside(event) {
    if (event.target.id === 'cartOverlay') {
        toggleCart();
    }
}

// Open payment modal
function openPaymentModal() {
    if (cart.length === 0) return;
    toggleCart();
    document.getElementById('paymentModal').style.display = 'flex';
}

// Close payment modal
function closePaymentModal() {
    document.getElementById('paymentModal').style.display = 'none';
}

// Pay with Mobile Money (Flutterwave)
function payWithMobileMoney() {
    const name = document.getElementById('customerName').value.trim();
    const phone = document.getElementById('customerPhone').value.trim();
    const email = document.getElementById('customerEmail').value.trim();
    const address = document.getElementById('deliveryAddress').value.trim();
    
    if (!name || !phone || !address) {
        alert('Please fill in all required fields');
        return;
    }
    
    if (!phone.startsWith('+250')) {
        alert('Please enter a valid Rwanda phone number (+250...)');
        return;
    }
    
    const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
    
    FlutterwaveCheckout({
        public_key: FLUTTERWAVE_PUBLIC_KEY,
        tx_ref: 'UBUDASA-' + Date.now(),
        amount: total,
        currency: 'RWF',
        payment_options: 'mobilemoneyrwanda',
        customer: {
            email: email || 'customer@ubudasashop.com',
            phone_number: phone,
            name: name,
        },
        customizations: {
            title: 'UBUDASA Shop',
            description: 'Payment for your order',
            logo: 'https://your-logo-url.com/logo.png',
        },
        callback: function (data) {
            if (data.status === 'successful') {
                sendOrderToWhatsApp(name, phone, address, data.tx_ref);
                cart = [];
                saveCart();
                updateCart();
                closePaymentModal();
                alert('Payment successful! Your order has been sent to our team.');
            } else {
                alert('Payment failed. Please try again.');
            }
        },
        onclose: function() {
            console.log('Payment cancelled');
        },
    });
}

// Pay on Delivery
function payOnDelivery() {
    const name = document.getElementById('customerName').value.trim();
    const phone = document.getElementById('customerPhone').value.trim();
    const address = document.getElementById('deliveryAddress').value.trim();
    
    if (!name || !phone || !address) {
        alert('Please fill in all required fields');
        return;
    }
    
    sendOrderToWhatsApp(name, phone, address, 'Cash on Delivery');
    cart = [];
    saveCart();
    updateCart();
    closePaymentModal();
}

// Send order to WhatsApp
function sendOrderToWhatsApp(name, phone, address, paymentRef) {
    const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
    const orderDetails = cart.map(item => 
        `${item.name} x${item.quantity} - ${formatPrice(item.price * item.quantity)} RWF`
    ).join('%0A');
    
    const message = `üõçÔ∏è *New Order - UBUDASA Shop*%0A%0A` +
        `*Customer:* ${name}%0A` +
        `*Phone:* ${phone}%0A` +
        `*Address:* ${address}%0A%0A` +
        `*Order Details:*%0A${orderDetails}%0A%0A` +
        `*Total:* ${formatPrice(total)} RWF%0A` +
        `*Payment:* ${paymentRef}`;
    
    window.open(`https://wa.me/250785485314?text=${message}`, '_blank');
}

// Toggle admin panel
function toggleAdmin() {
    const overlay = document.getElementById('adminOverlay');
    const panel = document.querySelector('.admin-panel');
    
    if (overlay.style.display === 'flex') {
        overlay.style.display = 'none';
        panel.style.display = 'none';
    } else {
        overlay.style.display = 'flex';
        panel.style.display = 'block';
    }
}

// Close admin if clicking outside
function closeAdminIfOutside(event) {
    if (event.target.id === 'adminOverlay') {
        toggleAdmin();
    }
}

// Add or update product
function addProduct() {
    const name = document.getElementById('productName').value.trim();
    const price = parseInt(document.getElementById('productPrice').value);
    const category = document.getElementById('productCategory').value;
    const description = document.getElementById('productDescription').value.trim();
    const imageFile = document.getElementById('productImage').files[0];
    
    if (!name || !price || !category) {
        alert('Please fill in product name, price, and category');
        return;
    }
    
    if (imageFile) {
        const reader = new FileReader();
        reader.onload = function(e) {
            saveProductWithImage(name, price, category, description, e.target.result);
        };
        reader.readAsDataURL(imageFile);
    } else if (editingProductId) {
        const product = products.find(p => p.id === editingProductId);
        saveProductWithImage(name, price, category, description, product.image);
    } else {
        alert('Please select an image');
    }
}

function saveProductWithImage(name, price, category, description, image) {
    if (editingProductId) {
        const product = products.find(p => p.id === editingProductId);
        if (product) {
            product.name = name;
            product.price = price;
            product.category = category;
            product.description = description || 'No description available.';
            product.image = image;
        }
        editingProductId = null;
        document.querySelector('.admin-form button').innerHTML = '<i class="fas fa-plus"></i> Add Product';
    } else {
        const newProduct = {
            id: Date.now(),
            name,
            price,
            category,
            description: description || 'No description available.',
            image
        };
        products.push(newProduct);
    }
    
    saveProducts();
    
    document.getElementById('productName').value = '';
    document.getElementById('productPrice').value = '';
    document.getElementById('productCategory').value = '';
    document.getElementById('productDescription').value = '';
    document.getElementById('productImage').value = '';
    
    renderProducts();
    renderAdminList();
    
    alert('Product saved successfully!');
}

// Edit product
function editProduct(productId) {
    const product = products.find(p => p.id === productId);
    if (product) {
        document.getElementById('productName').value = product.name;
        document.getElementById('productPrice').value = product.price;
        document.getElementById('productCategory').value = product.category;
        document.getElementById('productDescription').value = product.description;
        editingProductId = productId;
        document.querySelector('.admin-form button').innerHTML = '<i class="fas fa-save"></i> Update Product';
    }
}

// Delete product
function deleteProduct(productId) {
    if (confirm('Are you sure you want to delete this product?')) {
        products = products.filter(p => p.id !== productId);
        cart = cart.filter(item => item.id !== productId);
        
        saveProducts();
        saveCart();
        
        renderProducts();
        renderAdminList();
        updateCart();
        
        alert('Product deleted successfully!');
    }
}

// Render admin products list
function renderAdminList() {
    const adminList = document.getElementById('adminList');
    
    if (products.length === 0) {
        adminList.innerHTML = '<p style="text-align: center; padding: 1rem; color: var(--gray-600);">No products yet</p>';
    } else {
        adminList.innerHTML = products.map(product => `
            <div class="admin-item">
                <div class="admin-item-info">
                    <div class="admin-item-name">${product.name}</div>
                    <div class="admin-item-price">${formatPrice(product.price)} RWF ‚Ä¢ ${product.category}</div>
                </div>
                <div class="admin-actions">
                    <button class="btn-edit" onclick="editProduct(${product.id})">
                        <i class="fas fa-edit"></i> Edit
                    </button>
                    <button class="btn-delete" onclick="deleteProduct(${product.id})">
                        <i class="fas fa-trash"></i> Delete
                    </button>
                </div>
            </div>
        `).join('');
    }
}

// Initialize the app
window.addEventListener('DOMContentLoaded', () => {
    initProducts();
    updateCart();
});</script>